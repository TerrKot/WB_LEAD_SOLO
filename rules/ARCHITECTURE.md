# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Telegram-–±–æ—Ç–∞ —ç–∫—Å–ø—Ä–µ—Å—Å-–æ—Ü–µ–Ω–∫–∏ –∏ —Ä–∞—Å—á—ë—Ç–∞ –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏ vs –∫–∞—Ä–≥–æ (WB)

## üìã –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

Telegram-–±–æ—Ç –¥–ª—è —ç–∫—Å–ø—Ä–µ—Å—Å-–æ—Ü–µ–Ω–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ Wildberries ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±—ã—Å—Ç—Ä–æ –æ—Ü–µ–Ω–∏—Ç—å —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç—å –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∫–∞—Ä–≥–æ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ —Å WB.

- **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** Wildberries API v4 (`u-card.wb.ru/cards/v4/list`)
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ:** Redis (–æ—á–µ—Ä–µ–¥–∏, —Å—Ç–∞—Ç—É—Å—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ), PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞—Å—á—ë—Ç–æ–≤)
- **–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞:** —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ `Cargo.md` –∏ `TN VED RED ZONE RULES.json`
- **GPT API:** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –¢–ù –í–≠–î –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ä–∞–Ω–∂–µ–≤–æ–π –∑–æ–Ω—ã (—Ç–æ–ª—å–∫–æ –∫–∞–∫ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** Telegram (–æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)

---

## üèóÔ∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 2.1 Telegram Bot Service (`apps/bot_service/`)

- aiogram 3.x (polling –∏–ª–∏ webhook)
- –ú–æ–¥—É–ª–∏:
  - **Update Gateway:** –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞–ø–¥–µ–π—Ç—ã –æ—Ç Telegram
  - **User Agreement Handler:** –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –∏ —Å–æ–≥–ª–∞—Å–∏—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö
  - **Input Parser:** –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—Ä—Ç–∏–∫—É–ª–∞ –∏–∑ —Å—Å—ã–ª–∫–∏ –∏–ª–∏ —Ç–µ–∫—Å—Ç–∞
  - **WB Parser Service:** –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö —Å Wildberries API v4 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–≥–∏–∫—É –∏–∑ `wb_parser.py`)
  - **Required Fields Validator:** –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (—Ü–µ–Ω–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –≤–µ—Å, –æ–±—ä—ë–º)
  - **GPT Service:** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GPT API –¥–ª—è:
    - –ü–æ–¥–±–æ—Ä–∞ –≤–µ—Å–∞/–æ–±—ä—ë–º–∞ (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç)
    - –ü–æ–¥–±–æ—Ä–∞ –¢–ù –í–≠–î + –ø–æ—à–ª–∏–Ω—ã –∏ –ù–î–°
    - –ü—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ä–∞–Ω–∂–µ–≤–æ–π –∑–æ–Ω—ã (–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
  - **TN VED Red Zone Checker:** –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –¢–ù –í–≠–î –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ `TN VED RED ZONE RULES.json`
  - **Specific Value Calculator:** —Ä–∞—Å—á—ë—Ç —É–¥–µ–ª—å–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ (USD/–∫–≥)
  - **Express Assessment Generator:** –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤ —ç–∫—Å–ø—Ä–µ—Å—Å-–æ—Ü–µ–Ω–∫–∏
  - **Detailed Calculation Service:** –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞—Å—á—ë—Ç –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏ –∏ –∫–∞—Ä–≥–æ
  - **Cargo Calculator:** —Ä–∞—Å—á—ë—Ç –∫–∞—Ä–≥–æ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ `Cargo.md`
  - **White Logistics Calculator:** —Ä–∞—Å—á—ë—Ç –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –ó–¥–æ—Ä–æ–≤—å–µ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ `GET /healthz` (–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8443 –≤–Ω–µ—à–Ω–∏–π, 8444 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)

### 2.2 Redis Service

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –æ—á–µ—Ä–µ–¥–∏, —Å—Ç–∞—Ç—É—Å—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- **–û—á–µ—Ä–µ–¥–∏:**
  - `calculation_queue` ‚Äî –æ—á–µ—Ä–µ–¥—å —Ä–∞—Å—á—ë—Ç–æ–≤ (FIFO)
  - `gpt_queue` ‚Äî –æ—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ GPT API
- **–°—Ç–∞—Ç—É—Å—ã:**
  - `calculation:{calculation_id}:status` ‚Äî —Å—Ç–∞—Ç—É—Å —Ä–∞—Å—á—ë—Ç–∞ (pending/processing/completed/failed)
  - `calculation:{calculation_id}:data` ‚Äî –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—á—ë—Ç–∞ (JSON)
  - `calculation:{calculation_id}:result` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á—ë—Ç–∞ (JSON)
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  - `user:{user_id}:current_calculation` ‚Äî —Ç–µ–∫—É—â–∏–π —Ä–∞—Å—á—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `calculation:{calculation_id}:ttl` ‚Äî TTL –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ (24 —á–∞—Å–∞)

### 2.3 –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –∏—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)

- **–¢–∞–±–ª–∏—Ü—ã:**
  - `calculations` ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤ (calculation_id, user_id, article_id, result, created_at)
  - `wb_products_cache` ‚Äî –∫—ç—à –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ WB (article_id, data_json, updated_at)

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:**

- –õ–æ–∫–∞–ª—å–Ω–æ (Docker): `postgresql+asyncpg://app:app@postgres:5432/app` (–≤–Ω—É—Ç—Ä–∏ compose) –∏–ª–∏ `postgresql://app:app@localhost:5432/app` (—Å–Ω–∞—Ä—É–∂–∏)
- –ü—Ä–æ–¥–∞–∫—à–Ω: —á–µ—Ä–µ–∑ `DATABASE_URL` –∏–∑ `.env` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2.4 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                       | –ó–Ω–∞—á–µ–Ω–∏–µ/–ø—Ä–∏–º–µ—Ä       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                           |
| -------------------------------- | --------------------- | ------------------------------------ |
| `BOT_TOKEN`                      | `123:ABC`             | –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞                  |
| `GPT_API_KEY`                    | `sk-...`              | API –∫–ª—é—á OpenAI                      |
| `GPT_API_URL`                    | `https://api.openai.com/v1/chat/completions` | URL GPT API |
| `GPT_MODEL`                      | `gpt-4o-mini`        | –ú–æ–¥–µ–ª—å GPT –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤              |
| `REDIS_URL`                      | `redis://redis:6379/0` | URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞) |
| `DATABASE_URL`                   | `postgresql://...`    | URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `EXCHANGE_RATE_USD_RUB`          | `100.0`               | –ö—É—Ä—Å USD/RUB (–∏–ª–∏ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è) |
| `EXCHANGE_RATE_USD_CNY`          | `7.2`                 | –ö—É—Ä—Å USD/CNY (–∏–ª–∏ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è) |
| `EXCHANGE_RATE_EUR_RUB`          | `110.0`               | –ö—É—Ä—Å EUR/RUB (–∏–ª–∏ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è) |
| `WHITE_LOGISTICS_BASE_PRICE_USD` | `1850`                | –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏ (1000 –∫–≥ / 4.6 –º¬≥) |
| `WHITE_LOGISTICS_DOCS_RUB`       | `15000`               | –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (‚ÇΩ)            |
| `WHITE_LOGISTICS_BROKER_RUB`     | `25000`               | –°—Ç–æ–∏–º–æ—Å—Ç—å –±—Ä–æ–∫–µ—Ä–∞ (‚ÇΩ)               |
| `SERVICE_PORT`                   | `8444`                | –ü–æ—Ä—Ç health/webhook (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –≤–Ω–µ—à–Ω–∏–π 8443) |
| `LOG_LEVEL`                      | `INFO`                | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è                  |

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º –≤ `.env.example`, —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ –∫–æ–º–º–∏—Ç–∏–º.

---

## üîÑ –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –°—Ü–µ–Ω–∞—Ä–∏–π 1 ‚Äî –≠–∫—Å–ø—Ä–µ—Å—Å-—Ä–∞—Å—á—ë—Ç (–æ—Å–Ω–æ–≤–Ω–æ–π)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –∏ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö.
2. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∞—Ä—Ç–∏–∫—É–ª WB –∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É WB.
3. Input Parser –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∞—Ä—Ç–∏–∫—É–ª –∏–∑ —Å—Å—ã–ª–∫–∏ –∏–ª–∏ —Ç–µ–∫—Å—Ç–∞.
4. –°–æ–∑–¥–∞—ë—Ç—Å—è `calculation_id` (UUID).
5. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Redis: `calculation:{calculation_id}:status = pending`.
6. –ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å `calculation_queue`.
7. Worker –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É:
   - WB Parser Service –ø–∞—Ä—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å Wildberries API v4.
   - Required Fields Validator –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è.
   - –ï—Å–ª–∏ –≤–µ—Å/–æ–±—ä—ë–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç ‚Üí GPT Service –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.
   - GPT Service –ø–æ–¥–±–∏—Ä–∞–µ—Ç –¢–ù –í–≠–î + –ø–æ—à–ª–∏–Ω—ã –∏ –ù–î–°.
   - TN VED Red Zone Checker –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –¢–ù –í–≠–î –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º.
   - –ï—Å–ª–∏ –∫–æ–¥ –≤ –∫—Ä–∞—Å–Ω–æ–π –∑–æ–Ω–µ ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç üî¥, —ç–∫—Å–ø—Ä–µ—Å—Å-—Ä–∞—Å—á—ë—Ç –∑–∞–≤–µ—Ä—à—ë–Ω.
   - –ï—Å–ª–∏ –∫–æ–¥ –≤ –æ—Ä–∞–Ω–∂–µ–≤–æ–π –∑–æ–Ω–µ ‚Üí GPT Service –ø—Ä–æ–≤–µ—Ä—è–µ—Ç (–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä).
   - –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞ ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç üü†, —ç–∫—Å–ø—Ä–µ—Å—Å-—Ä–∞—Å—á—ë—Ç –∑–∞–≤–µ—Ä—à—ë–Ω.
   - Specific Value Calculator —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —É–¥–µ–ª—å–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å.
   - Express Assessment Generator –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω –æ—Ç–≤–µ—Ç–∞ (üü¢/üü°).
8. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Redis: `calculation:{calculation_id}:result`.
9. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
10. –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç üü¢ –∏–ª–∏ üü° ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ "–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞—Å—á—ë—Ç".

### –°—Ü–µ–Ω–∞—Ä–∏–π 2 ‚Äî –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞—Å—á—ë—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞—Å—á—ë—Ç".
2. –ë–æ—Ç –≤—ã–≤–æ–¥–∏—Ç —ç–∫—Ä–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Ç–æ–≤–∞—Ä, –∞—Ä—Ç–∏–∫—É–ª, —Ü–µ–Ω–∞, –∑–∞–∫—É–ø–æ—á–Ω–∞—è —Ü–µ–Ω–∞, –≤–µ—Å, –æ–±—ä—ë–º).
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤–µ—Å, –æ–±—ä—ë–º, –∑–∞–∫—É–ø–æ—á–Ω–∞—è —Ü–µ–Ω–∞).
4. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π `calculation_id` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞.
5. –ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å `calculation_queue`.
6. Worker –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É:
   - –í—ã–±–∏—Ä–∞–µ—Ç—Å—è –±–∞–∑–∞ —Ä–∞—Å—á—ë—Ç–∞ (1000 –∫–≥ –∏–ª–∏ 4.6 –º¬≥, –±–æ–ª—å—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ).
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –≤ –ø–∞—Ä—Ç–∏–∏.
   - Cargo Calculator —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞—Ä–≥–æ (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ `Cargo.md`).
   - White Logistics Calculator —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏.
7. –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Redis: `calculation:{calculation_id}:result`.
8. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

### –°—Ü–µ–Ω–∞—Ä–∏–π 3 ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏ —Ä–∞—Å—á—ë—Ç–æ–≤

1. Worker (Celery –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ `calculation_queue`.
2. –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å: `calculation:{calculation_id}:status = processing`.
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–∞—Å—á—ë—Ç (—ç–∫—Å–ø—Ä–µ—Å—Å –∏–ª–∏ –ø–æ–¥—Ä–æ–±–Ω—ã–π).
   - –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Redis: `calculation:{calculation_id}:result`.
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å: `calculation:{calculation_id}:status = completed`.
3. –ü—Ä–∏ –æ—à–∏–±–∫–µ:
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å: `calculation:{calculation_id}:status = failed`.
   - –û—à–∏–±–∫–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è.
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

---

## üß† –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–æ–≤

### –†–∞—Å—á—ë—Ç –∫–∞—Ä–≥–æ

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ `Cargo.md`:

1. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞–ª—é—Ç (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–∞—Å—á—ë—Ç—ã –≤ USD).
2. –†–∞—Å—á—ë—Ç –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ (`density_kg_m3 = weight_kg / volume_m3`).
3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏ —Å—Ç–∞–≤–∫–∏ –∫–∞—Ä–≥–æ:
   - –ï—Å–ª–∏ `density_kg_m3 < 100` ‚Üí —Ç–∞—Ä–∏—Ñ `per_m3`, —Å—Ç–∞–≤–∫–∞ 500 USD/–º¬≥.
   - –ï—Å–ª–∏ `density_kg_m3 >= 100` ‚Üí —Ç–∞—Ä–∏—Ñ `per_kg`, —Å—Ç–∞–≤–∫–∞ –ø–æ —Ç–∞–±–ª–∏—Ü–µ (4.9‚Äì3.1 USD/–∫–≥).
4. –°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –ø–æ —É–¥–µ–ª—å–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ (1‚Äì10% –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç–∏).
5. –ö–æ–º–∏—Å—Å–∏—è –±–∞–π–µ—Ä–∞ (–≤ CNY, 1‚Äì5% –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏).
6. –ò—Ç–æ–≥ –ø–æ –∫–∞—Ä–≥–æ: `total_cargo_usd = freight_usd + insurance_usd + buyer_commission_usd`.

### –†–∞—Å—á—ë—Ç –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏

1. –ë–∞–∑–æ–≤–∞—è –ª–æ–≥–∏—Å—Ç–∏–∫–∞: 1850 USD (1000 –∫–≥ / 4.6 –º¬≥).
2. –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç: USD/CNY/EUR ‚Üí –¶–ë + 2%.
3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã:
   - –î–æ–∫—É–º–µ–Ω—Ç—ã: 15 000 ‚ÇΩ.
   - –ë—Ä–æ–∫–µ—Ä: 25 000 ‚ÇΩ.
   - –ü–æ—à–ª–∏–Ω–∞ (–ø–æ —Ç–∏–ø—É –∏–∑ –¢–ù –í–≠–î).
   - –ù–î–°: `(—Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞ + 900 USD + –ø–æ—à–ª–∏–Ω–∞) * 20%`.
4. –ò—Ç–æ–≥ –ø–æ –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–µ: —Å—É–º–º–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∞—Å–Ω–æ–π –∑–æ–Ω—ã –¢–ù –í–≠–î

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ `TN VED RED ZONE RULES.json`:

1. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ –¢–ù –í–≠–î –¥–æ —Å—Ç—Ä–æ–∫–∏ –∏–∑ 10 —Ü–∏—Ñ—Ä.
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑.
3. –ü–µ—Ä–≤–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ (BLOCK/RISK/ALLOW).
4. –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç ‚Äî ALLOW.

---

## üìö –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö

### Redis —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```redis
# –°—Ç–∞—Ç—É—Å —Ä–∞—Å—á—ë—Ç–∞
calculation:{calculation_id}:status = "pending|processing|completed|failed"

# –î–∞–Ω–Ω—ã–µ —Ä–∞—Å—á—ë—Ç–∞ (–≤—Ö–æ–¥–Ω—ã–µ)
calculation:{calculation_id}:data = {
  "user_id": 123456,
  "article_id": 154345562,
  "calculation_type": "express|detailed",
  "input_data": {...}
}

# –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á—ë—Ç–∞
calculation:{calculation_id}:result = {
  "status": "üü¢|üü°|üü†|üî¥",
  "result_data": {...},
  "created_at": "2025-01-01T12:00:00Z"
}

# –¢–µ–∫—É—â–∏–π —Ä–∞—Å—á—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
user:{user_id}:current_calculation = "{calculation_id}"

# TTL –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏
calculation:{calculation_id}:ttl = 86400  # 24 —á–∞—Å–∞
```

### PostgreSQL —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```sql
CREATE TABLE calculations (
    calculation_id UUID PRIMARY KEY,
    user_id BIGINT NOT NULL,
    article_id BIGINT NOT NULL,
    calculation_type TEXT NOT NULL CHECK (calculation_type IN ('express', 'detailed')),
    input_data JSONB NOT NULL,
    result_data JSONB NOT NULL,
    status TEXT NOT NULL CHECK (status IN ('üü¢', 'üü°', 'üü†', 'üî¥')),
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
CREATE INDEX idx_calculations_user ON calculations(user_id);
CREATE INDEX idx_calculations_article ON calculations(article_id);
CREATE INDEX idx_calculations_created ON calculations(created_at);

CREATE TABLE wb_products_cache (
    article_id BIGINT PRIMARY KEY,
    data_json JSONB NOT NULL,
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
CREATE INDEX idx_wb_products_updated ON wb_products_cache(updated_at);
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ `.env`:

- –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç (–∏–ª–∏ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏ (–±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞, –¥–æ–∫—É–º–µ–Ω—Ç—ã, –±—Ä–æ–∫–µ—Ä)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã GPT API (–∫–ª—é—á, URL, –º–æ–¥–µ–ª—å)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Redis (URL, TTL)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã PostgreSQL (URL, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è)

```
repo/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îî‚îÄ‚îÄ bot_service/
‚îÇ       ‚îú‚îÄ‚îÄ main.py              # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ config.py             # –∑–∞–≥—Ä—É–∑–∫–∞ env
‚îÇ       ‚îú‚îÄ‚îÄ handlers/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ updates.py        # —Ä–æ—É—Ç–∏–Ω–≥ Telegram —Å–æ–±—ã—Ç–∏–π
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ express.py        # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —ç–∫—Å–ø—Ä–µ—Å—Å-—Ä–∞—Å—á—ë—Ç–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ detailed.py       # –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ health.py
‚îÇ       ‚îú‚îÄ‚îÄ services/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ wb_parser.py      # –ø–∞—Ä—Å–∏–Ω–≥ WB API v4
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ gpt_service.py    # –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GPT API
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ tnved_checker.py  # –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∞—Å–Ω–æ–π –∑–æ–Ω—ã –¢–ù –í–≠–î
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ cargo_calculator.py  # —Ä–∞—Å—á—ë—Ç –∫–∞—Ä–≥–æ
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ white_logistics_calculator.py  # —Ä–∞—Å—á—ë—Ç –±–µ–ª–æ–π –ª–æ–≥–∏—Å—Ç–∏–∫–∏
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ express_assessment.py  # –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–∫—Å–ø—Ä–µ—Å—Å-–æ—Ü–µ–Ω–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ workers/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ calculation_worker.py  # worker –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏
‚îÇ       ‚îú‚îÄ‚îÄ clients/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ redis.py          # Redis –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ database.py       # PostgreSQL –∫–ª–∏–µ–Ω—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ telegram.py       # Telegram API –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îî‚îÄ‚îÄ telemetry.py          # –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ/–º–µ—Ç—Ä–∏–∫–∏
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ wb_parser.py              # —Å–∫—Ä–∏–ø—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ WB (–∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –≤ services)
‚îÇ   ‚îî‚îÄ‚îÄ init_db.py                # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ infra/
‚îÇ   ‚îî‚îÄ‚îÄ docker/
‚îÇ       ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ       ‚îî‚îÄ‚îÄ compose.yaml           # –≤–∫–ª—é—á–∞–µ—Ç redis, postgres (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ), bot_service, worker
‚îî‚îÄ‚îÄ tests/
    ‚îú‚îÄ‚îÄ unit/
    ‚îî‚îÄ‚îÄ integration/
```

**docker-compose.yml –ø—Ä–∏–º–µ—Ä:**

```yaml
services:
  redis:
    image: redis:7-alpine
    ports:
      - "6380:6379"
    volumes:
      - redis_data:/data
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5

  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_USER: app
      POSTGRES_PASSWORD: app
      POSTGRES_DB: app
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U app"]
      interval: 10s
      timeout: 5s
      retries: 5

  bot_service:
    build: .
    env_file:
      - ../.env
    ports:
      - "8443:8444"
    depends_on:
      redis:
        condition: service_healthy
    restart: unless-stopped
    command: ["python", "apps/bot_service/main.py"]

  worker:
    build: .
    env_file:
      - ../.env
    depends_on:
      redis:
        condition: service_healthy
    restart: unless-stopped
    command: ["python", "apps/bot_service/workers/calculation_worker.py"]

volumes:
  redis_data:
  postgres_data:
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

- **PII:** –Ω–µ –ª–æ–≥–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π; –ª–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ `user_id`, `calculation_id`, `article_id`.
- **–õ–æ–≥–∏:** JSON, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è `calculation_id`, `user_id`, `event_type`, `event_id`.
- **–ú–µ—Ç—Ä–∏–∫–∏:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—á—ë—Ç–æ–≤, —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (üü¢/üü°/üü†/üî¥).
- **–¢—Ä–µ–π—Å–∏–Ω–≥:** —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ª–æ–≥–∏ + `calculation_id` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞—Å—á—ë—Ç–∞ —Å–∫–≤–æ–∑—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É.

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Bot Service:** stateless, –º–æ–∂–Ω–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å (webhook —Å shared secret –∏–ª–∏ polling —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã).
- **Worker:** –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏.
- **Redis:** –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏.
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö, –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –¥–∞—Ç–∞–º –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

---

## üîå –ü–æ—Ä—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–æ—Ä—Ç—ã: `5433`, `6379`, `8000‚Äì8008`, `8010‚Äì8023`, `9000`, `8125:8000`, `8075`, `8090`
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—Ç Dev/health ‚Äî `8443` (–≤–Ω–µ—à–Ω–∏–π), `8444` (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
- Redis –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–∞ `6380:6379` (–≤–Ω–µ—à–Ω–∏–π:–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–∞ `5432:5432` (–ª–æ–∫–∞–ª—å–Ω–æ, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ webhook ‚Üí –Ω–∞ gateway –Ω—É–∂–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–π –ø–æ—Ä—Ç (8443) –∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–∞–ø–ø–∏—Ç—å –Ω–∞ 8444

---

–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –æ—Å–Ω–æ–≤—É –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª.
